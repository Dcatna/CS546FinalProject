<h1>{{this.course_section}}</h1><br>
<em>Professor:</em> {{instructor}}<br>
<em>Location:</em> {{location}}<br>
<em>Meeting Pattern:</em> {{days}} {{time}}

{{#if comments}}
<h2>Comments:</h2>
<ul>
    {{#each comments as |comment|}}    
    <li>
        <h3>{{title}}</h3>
        <p>{{content}}</p>
        <a href="/profile/{{userId}}">{{userId}}</a>
        <em>{{date}}</em>

        {{#is_user userId ../curr_user}}
            <form action="/course/view/{{@root.id}}/comment/{{comment._id}}/delete" method="POST">
            <button type="submit">
                DELETE
            </button>
            </form>

        {{/is_user}}
    </li>
    {{/each}}
</ul>
{{/if}}

<form action="/course/view/{{_id}}/comment" method="GET" id="course-comment">
    <input type="submit" value="Comment">
</form>

<h2>View in Schedule:</h2>

{{#if schedules}}
<form id="add-to-schedule" action="/course/add/{{_id}}" method="POST">
    <select id="schedule-select" name="scheduleSelect">
        {{#each schedules}}
        {{#if selected}}
        <option value="{{name}}" selected>{{name}}</option>
        {{else}}
        <option value="{{name}}">{{name}}</option>
        {{/if}}
        {{/each}}
    </select><br><br>

    <input id="submit-add-to-schedule" type="submit" value="Add to Schedule">

</form>
{{else}}
<h3>No schedules found</h3>
{{/if}}

{{#each schedules}}
<div class="potential-schedule" name="{{name}}" hidden>
    {{#if conflicting}}
    <p class="warning">Warning: conflicting times</p>
    {{/if}}
    {{#if this.alreadyContains}}
    <form class="already-added" id="remove-from-schedule" action="/course/remove/{{@root._id}}" method="POST">
        <input type="text" name="scheduleSelect" value="{{name}}" hidden>
        <input type="submit" value="Remove From Schedule">
    </form>
    {{/if}}
    <h1>{{name}}</h1>

    {{> schedule}}

</div>
{{/each}}

